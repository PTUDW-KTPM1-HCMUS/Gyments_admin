<link rel="stylesheet" href="/plugins/bootstrap/css/bootstrap.css">
<link rel="stylesheet" href="/css/form.css">
<!--<link href = "https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" rel="stylesheet">-->
<!--<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">-->

<div class="app-wrapper">
    <div class="container pt-5 clearfix">
        {{#if updatedProduct}}
            <div class="alert alert-success alert-dismissible fade show" role="alert">
                <strong>Update product successfully!!!</strong>
                <button type="button" class="close" onclick="this.parentElement.style.display='none'">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
        {{/if}}
        <h1>You are updating product: {{productDetails.name}}</h1>
        <form action="/products/updateProduct/{{productDetails._id}}"  enctype="multipart/form-data" method="POST" style="padding-top: 20px">
            <div class="form-group">
                <label for="productName">Product Name</label>
                <input type="text" class="form-control" placeholder="Old name: {{productDetails.name}}" name="name" value="{{product.name}}">
            </div>
            <div class="form-row">
                <div class="form-group col-md-4">
                    <div class="slideshow-container">
                        <!-- Full-width images with number and caption text -->
                        {{#each productDetails.images}}
                            <div class="mySlides fade_1">
                                <img src="{{this}}" class="mySlides_img_1">
                            </div>
                        {{/each}}
                    </div>
                    <br>
                    <!-- The dots/circles -->
                    <div style="text-align:center">
                        {{#each productDetails.images}}
                            <span class="dot"></span>
                        {{/each}}
                    </div>
                    <br>
                </div>
                <div class="form-group col-md-8">
                    <div class="form-group">
                        <label for="exampleFormControlSelect1">Category</label>
                        <select class="form-control" id="exampleFormControlSelect1" name="categoryID" value="{{product.categoryID}}">
                            <option value="" disabled selected hidden>Choose...</option>
                            <option value="619e28ce362190c5420b1395">Whey</option>
                            <option value="619e28f2362190c5420b1397">Dumbbells</option>
                            <option value="619e290a362190c5420b1399">Nutrients</option>
                            <option value="619e291b362190c5420b139c">Increase Weight</option>
                            <option value="619f2f36701e4440d391d0cc">Diet Pill</option>
                            <option value="619f41873e5bddb97d9af86e">Machines</option>
                            <option value="619f69c41575633a1716406d">Bicycle</option>
                            <option value="619f77841575633a17164074">Kettkebelss</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="text">Product Price</label>
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <div class="input-group-text">$</div>
                            </div>
                            <input type="text" class="form-control"  placeholder="Old price: {{productDetails.price}}" name="price" value="{{product.price}}">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="sale">Product Sale Percent</label>
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <div class="input-group-text">%</div>
                            </div>
                            <input type="text" class="form-control" placeholder="Old sale percent: {{productDetails.sale}}" name="sale" value="{{product.sale}}">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="inputRating">Rating Stars</label>
                        <select class="form-control" name="rate" value="{{productDetails.rate}}">
                            <option value="" disabled selected hidden>Choose...</option>
                            <option value="5">5</option>
                            <option value="4">4</option>
                            <option value="3">3</option>
                            <option value="2">2</option>
                            <option value="1">1</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label for="exampleFormControlTextarea1">Product Overview</label>
                <textarea class="form-control" id="exampleFormControlTextarea1" rows="5" placeholder="Old overview: {{productDetails.overview}}" name="overview" value="{{product.overview}}"></textarea>
            </div>
            <div class="form-group">
                <label for="exampleFormControlTextarea1">Product Description</label>
                <textarea class="form-control" id="exampleFormControlTextarea1" rows="7" placeholder="Old description: {{productDetails.description}}" name="description" value="{{product.description}}"></textarea>
            </div>
            <div class="form-row">
                <div class="form-group col-md-8">
                    <label for="inputQuantity">Product Quantity</label>
                    <input type="text" class="form-control" placeholder="Old quantity: {{productDetails.quantity}}" name="quantity" value="{{product.quantity}}">
                </div>

                <div class="form-group col-md-4">
                    <label for="exampleFormControlFile1">Input product image</label>
                    <input type="file" class="form-control-file" id="exampleFormControlFile1" name="images" multiple>
                </div>
            </div>
            <div class="form-group">
                <button type="button" class="btn btn-primary float-right px-3" data-toggle="modal" data-target="#addUpdateModal"><i class="fa fa-database"></i> Submit</button>
                <!-- Modal -->
                <div class="modal fade" id="addUpdateModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">Update product</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                Are you sure to update this product?
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                <button type="submit" class="btn btn-primary">Yes</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>
<script src="/js/imageSlider.js"></script>